%% 以下为范例
%% 创建表1 (默认为分片表, disc_only_copies)
%%{create_table, 硬盘表, [age, money], "create table"}.
%% 创建表2 (默认为分片表, ram_copies)
%%{create_table, 内存表, [username, sex], [], "create table"}.
%% 创建表3 (默认为分片表, 可指定存储类型(ram_copies, disc_copies, disc_only_copies))
%%{create_table, my_table, [username, sex], [{disc_type, disc_copies}], "create table"}.
%% 删除表
%%{delete_table, hjx_table, "delete table"}.
%% 增加表字段
%%{add_table_fields, player_table, [{name, aaa}, {age, 19}, {money, 20}, {weight, 33}], "add field"}.
%% 删除表字段
%%{remove_table_field, player_table, age, "remove field"}.
%%{remove_table_fields, player_table, [name, money, weight], "remove field"}.
%% 重命名表字段
%%{rename_table_field, player_table, {pet, mypet}, "rename field"}.
%%{rename_table_fields, player_table, [{pet, mypet}, {bag, mybag}], "rename field"}.
%% 插入数据
%%{insert_data, player_table, [{hjx, man, hahaer, bag}, {llc, girl, a, b}], "insert data"}.
%% 删除数据
%%{delete_data, player_table, [hjx], "delete data"}.
%% 清除表中的所有记录
%%{clear_tables, [table1, table2, ...], "clear tables"}.
%% 加索引字段
%%{add_table_index, table, need_index_field, "add table index"}.
%% 去掉索引字段
%%{del_table_index, table, del_index_field, "del table index"}.
%% 改变表格存储形态
%%{change_table_copy_type, table, NewType, "change table copy type"}.
%% 特殊模块调用
%%{module_fun, my_module, my_function, [arg1, arg2], "create player data"} 
%% 激活分片表
%%{active_table_frag, [table1, table2, ...], "active table1, table2"}
%% 改变分片hash算法
%%{change_frag_hash, new_frag_hash, "change frag hash"}


{create_table,register_invitation,
               [id,inviting,invited,invite_time],
               "create_table register_invitation"}.
{create_table,failure_invitation,
               [inviting,invited,failuretype],
               "create_table failure_invitation"}.
{create_table,task,
               [account,active_list,cancel_list,complete_list,
                active_chain_list,cancel_chain_list,complete_cha],
               "create_table task"}.
{create_table,player_pack,[owner,grid_vec],"create_table player_pack"}.
{create_table,party,
               [account,type,title,desc,create_time],
               "create_table party"}.
{create_table,player_body,[owner,grid_vec],"create_table player_body"}.
{create_table,sys_msg,[account,msgs],"create_table sys_msg"}.
{create_table,player_wallow,
               [account,start_time,last_online_time,login_time,ref_list],
               "create_table player_wallow"}.
{create_table,register_queue,
               [account,boy_number,girl_number],
               "create_table register_queue"}.
{create_table,house_lover_package,
               [house,lover_package],
               "create_table house_lover_package"}.
{create_table,player_guide,[account,flags],"create_table player_guide"}.
{create_table,scene,[scene_name,create_date],[],"create_table scene"}.
{create_table,sys_broadcast,
               [id,type,content,start_time,play_times,priority],
               "create_table sys_broadcast"}.
{create_table,house_lover_diamond,
               [house,lover_diamond],
               "create_table house_lover_diamond"}.
{create_table,house_checkins,
               [house_owner,checkins],
               "create_table house_checkins"}.
{create_table,house_today_visitors,
               [house,date,logs],
               "create_table house_today_visitors"}.
{create_table,dbrouter,[msg,handler],[],"create_table dbrouter"}.
{create_table,pair_player,
               [account,sex,house_id,lover_account], 
               "create_table pair_player"}.
{create_table,game_info_gather,[key,val],"create_table game_info_gather"}.
{create_table,online_player,
               [account,login_date,login_node], [],
               "create_table online_player"}.
{create_table,player_basic_data,
               [account,username,sex,skin_color,hair,face,beard,age,level,
                online_time,personality_sign,personality_describe,
                health_status,hair_color,last_login_time,gm_enabled,house_id],
               "create_table player_basic_data"}.
{create_table,house_guest_data,
               [house_id,guest_books],
               "create_table house_guest_data"}.
{create_table,house_data,
               [house_id,template_id,furniture_vec,furniture_permission,
                room_tex_vec,welcome_words,house_permission,visit_log,
                buy_date,level,house_clean,boy,girl],
               "create_table house_data"}.
{create_table,flower,
               [house_id,flower_id,grow,water,fertilizer,start_time,
                fruit_time,pick,output,log],
                [{mem_disc, []}],
               "create_table flower"}.
{create_table,commemoration,
               [house_id,love_time,days], 
               [{mem_disc, []}],
               "create_table commemoration"}.
{create_table,player_coin,
               [account,gamecoin,eqcoin],
               [{mem_disc, []}],
               "create_table player_coin"}.

{create_table,pair_info,
               [openid, boy_number, girl_number],
               "create_table pair_info"}.

{add_table_fields,  house_data, 
			   [{name, ""}], 
			   "add field name"}.

{create_table, player_setting, [account, settings], "create_table player_setting"}.
{create_table, global_router, [key, val], "create router table"}.
{add_table_fields,  pair_info, [{gender, ""}], "add field gender"}.
{create_table, friend, [account, friend_account], "create friend table"}.
{delete_table, friend, "delete table friend"}.
{create_table, friend, [accout, friend_account], [{type, bag}], "create table friend_account"}.
{change_table_copy_type, friend, disc_only_copies, "change table friend_account to disc only copies"}.
{create_table, player_holiday_gift_logs, [account, last_fetch_time], "create router player_holiday_gift_logs"}.
{delete_table, party, "delete table party"}.
{create_table, party, [house_id,account,house_name,player_name,type,title,desc,create_time], "create_table party"}.
{change_table_copy_type, party, disc_copies, "change party to disc_copies type"}.
{add_table_fields,  player_basic_data, [{mateup_status, 1}], "table player_basic_data add field mateup_status"}.
{add_table_fields,  house_data, [{mateup_status, 1}], "table house_data add field mateup_status"}.
{create_table, house_data_ex, [house_id, level, cur_exp], "create_table house_data_ex"}. % 可在内存中快速访问的房屋数据
{add_table_fields,  player_basic_data, [{hp, 0}], "player_basic_data add field hp"}.
{change_table_copy_type, house_data_ex, disc_copies, "change house_data_ex to disc_copies type"}.
{delete_table, house_checkins, "delete table house_checkins"}.
{create_table, house_warming, [account, house_id], "create table house warming"}.
{module_fun, db_update_house, update_lovers_house_template_id, 
	[100001, [2100000, 2000000, 2000002]], "update lovers house"}.  
{add_table_fields, player_basic_data, [{body, []}], "player_basic_data add field body"}.
{module_fun, db_update_player, update_player_body, [], "update player_body"}.
{delete_table, player_body, "delete player_body"}.
{add_table_fields,  house_data, [{lover_diamond, 0}, {lover_package, []}, {exp, 0}], "house_data add field lover_diamond, lover_package, exp "}.
{module_fun, db_update_house, update_house_data_20120227, [], "update_house_data_20120227"}.
{change_table_copy_type, player_basic_data, disc_copies, "change player_basic_data copy type"}.
{change_table_copy_type, house_data, disc_copies, "change house_data copy type"}.
{delete_table, house_data_ex, "delete house_data_ex"}.
{delete_table, house_lover_diamond, "delete house_lover_diamond"}.
{delete_table, house_lover_package, "delete house_lover_package"}.
{delete_table, game_info_gather, "delete game_info_gather"}.
{delete_table, player_coin, "delete table player_coin"}.
{delete_table, 'player_coin$_mem$', "delete table player_coin$_mem$"}.
{delete_table, player_pack, "delete table player_pack"}.
{add_table_fields,  player_basic_data, [{hp_update_time, {stime, 2012, 01, 01, 0, 0, 0}}], "table player_basic_data add field hp_update_time"}.
{module_fun, db_update_player, update_player_setting, [], "update_player_setting"}.
{create_table, player_gift, [house_id, boy, girl], "create player_gift table"}.
{change_table_copy_type, player_gift, disc_copies, "change player_gift copy type"}.
{module_fun, db_update_gift, update_gift, [], "update_player_gift"}.
{change_table_copy_type, pair_player, disc_copies, "change pair_player copy type"}.
{add_table_fields,  player_basic_data, [{create_time, {stime, 2012, 02, 14, 0, 0, 0}}], "table player_basic_data add field create_time"}.
{remove_table_fields, player_basic_data, [age,level,personality_sign,personality_describe,health_status,gm_enabled], "remove player_basic_data fields"}.
{add_table_fields,  player_basic_data, [{first_photo_player, ''}], "table player_basic_data add field first_photo_player"}.
{create_table, attention, [account, attentions], "player attention list"}.
{create_table, player_wish, [wish_id, account, goods_id, wish_time], "create player wish"}.
{add_table_index, player_wish, account, "player_wish add table index on field account"}.
{create_table, player_wish_history, [account, histories], "create player wish history"}.
{delete_table, player_wish_history, "delete player wish history"}.
{create_table, player_histories, [account, histories], "create player histories"}.
{change_table_copy_type, global_router, ram_copies, "change disc_only_copies to ram_copies type"}.
{delete_table, player_wish_histories, "delete player wish histories"}.
{create_table, player_wish_histories, [account, histories, count], "create player wish histories"}.
{add_table_fields, attention, [{cnt, 0}], "add field count in table attention"}.
{module_fun, db_update_attention, init_count, [], "init attention count"}.
{create_table, player_stat, [account, gift], "create stat table"}.
{module_fun, db_update_stat, start, [], "init gift count"}.
{add_table_fields, player_basic_data, [{animal_type, 0}, 
																			{birthday, {stime, 0, 0, 0, 0, 0, 0}},
																			{star, 0},
																			{resident_city, 0},
																			{resident_area, 0},	
																			{height, 0},
																			{salary, 0},
																			{blood_type, 0},
																			{career, 0},
																			{education, 0},
																			{has_marry, 0},
																			{contact, []},
																			{interest, []},
																			{signature, []}	
																			], 
																			"table player_basic_data add person info"}.
{create_table, player_task, [account, give_tasks], "create player_task"}.
{change_table_copy_type, player_task, disc_copies, "change player_task copy type"}.
{remove_table_fields, player_basic_data, [has_marry, career, resident_city, resident_area], "remove player_basic_data fields"}.
{add_table_fields, player_basic_data, [{city, 0},
																			{province, 0},	
																			{career, []}], 
																			"table player_basic_data add person info"}.
{add_table_fields, player_task, [{flags, []}, {events, []}], "table player_task add flags"}.
{module_fun, db_update_task, update_task, [], "init task"}.
{delete_table, player_gift, "delete player_gift"}.
{create_table, player_gift, [house_id, boy, girl], "create player_gift table"}.
{add_table_fields, player_basic_data, [{weight, 0}], 
																			"table player_basic_data add weight"}.
{create_table, vip_beginner_gift_log, [account, receive_date], "create vip_beginner_gift_log table"}.
{create_table, vip_daily_gift_log, [account, receive_date], "create vip_daily_gift_log table"}.
{module_fun, db_update_task, clean, [], "clean player_task data"}.
{module_fun, db_update_task, update_task_flag, [], "change task flag"}.
{module_fun, db_update_house, update_furnitures_20120421, [], "update_house_data_20120421"}.
{module_fun, db_update_task, clean, [], "clean player_task data"}.
{delete_table, task, "delete task table"}.
{create_table, offline_notify, [account, notifies], "create offileline_notify table"}.
{create_table, player_invite, [account, active_openids, actived_openids], "create player_invite table"}.
{module_fun, db_update_item_20120508, add_del_time_field, [], "add del time field"}.
{create_table, player_login_reward, [account, login_info], "create player_login_reward table"}.
{add_table_fields, house_data, [{right_grade, 0}], "add field right_grade"}.
{add_table_fields, player_basic_data, [	{alter_body, {polymorph,0,0, {stime, 0, 0, 0, 0, 0, 0}}}],	"table player_basic_data add alter body"}.
{add_table_fields, house_data, [{light_plan, undefined}], "add field light_plan"}.
{create_table, scene_copies, [scene, copies], [], "create scene_copies table"}.
{create_table, player_gm_permission, [account, money, item],[],"create player_gm_permission table"}.
{delete_table, player_gm_permission, "delete player_gm_permission"}.
{create_table, player_gm_permission, [account, money, item],"create player_gm_permission table"}.
{add_table_fields, online_player, [{user_info, undefined}], "add field user_info"}.
{add_table_fields, player_basic_data, [{charm, 0}], "add field charm"}.
{add_table_fields, house_data, [{decoration, 0},{max_decoration, 0}], "add field decoration and max_decoration"}.
{module_fun, db_update_task, clean, [], "clean player_task data"}.
{module_fun, db_update_house, update_furniture_height_20120606, [], "update_furniture_height_20120606"}.
{remove_table_field, house_data, decoration, "remove field decoration"}.
{add_table_fields, player_gm_permission, [{enable, 1}], "add field player_gm_permission"}.
{create_table, player_special_house, [account, house_list], "create player_special_house table"}.
{create_table, special_house_goods, [id, house_tplt_id, remain_count, q_coin], "create special_house_goods table"}.
%%wish_type 0:普通许愿单 1:别墅许愿单
{add_table_fields, player_wish, [{wish_type, 1}], "add field wish_type"}.
{remove_table_field, house_data, max_decoration, "remove field max_decoration"}.
{create_table, photo_player, [account, sex], [], "create photo_player table"}.
{add_table_fields, player_basic_data, [{produce_experience, 0}], "add field produce_experience"}.
{create_table, common_ranking, [type, accounts], [{disc_type, disc_copies}], "create common_ranking table"}.
{create_table, level_ranking, [account, ranking, level], "create level_ranking table"}.
{add_table_fields, house_data, [{decoration, 0}], "add field decoration"}.
{module_fun, db_update_house, update_house_decoration_20120627, [], "update_house_decoration_20120627"}.
{module_fun, db_update_player, update_player_charm_20120627, [], "update_player_charm_20120627"}.
{create_table, decoration_ranking, [account, ranking, decoration], "create decoration_ranking table"}.
{add_table_fields, player_basic_data, [{produce_level, 1}], "add field produce_level"}.
{rename_table_fields, house_data, [{furniture_vec, tmp_vec}, {furniture_permission, tmp_permission}], "rename field"}.
{rename_table_fields, house_data, [{tmp_vec, furniture_permission}, {tmp_permission, furniture_vec}], "rename field"}.
{add_table_fields, house_data, [{search_plan, undefined}], "add field search_plan"}.
{module_fun, db_update_player, update_player_basic_data, [], "update player_basic_data table"}.
{create_table, farm, [house_id, crops], "create farm table"}.
{create_table, self_msgs, [account, has_read, msgs], "create self_msgs table"}.
{clear_tables, [sys_msg], "clear table sys_msg"}.
{module_fun, db_update_house, update_house_decoration_20120627, [], "update_house_decoration_20120627"}.
{module_fun, db_update_player, update_player_charm_20120627, [], "update_player_charm_20120627"}.
{add_table_fields, player_task, [{complete_chain_tasks, []}], "add field complete_chain_tasks"}.
{module_fun, db_update_task, update_task_20120711, [], "update player_task"}.
{module_fun, db_update_item_20120713, add_property_field, [], "add item property"}.
{create_table, charm_ranking, [account, ranking], "create charm_ranking table"}.
{create_table, player_searching, [account, house_id], "create player_searching table"}.
{create_table, player_breakup, [account, is_sponsor, diamond, experience, createat], "create player_breakup table"}.
{delete_table, player_breakup, "delete player_breakup"}.
{create_table, player_breakup, [account, diamond, createat], "create player_breakup table"}.
{clear_tables, [player_searching], "clear table player_searching"}.
{rename_table_fields, player_searching, [{house_id, finish_time}], "rename field"}.
{add_table_fields, player_searching, [{boss, ''}], "add field boss"}.
{create_table, house_data_mem, [house_id,template_id,furniture_permission,furniture_vec,
                                room_tex_vec,welcome_words,house_permission,visit_log,
                                buy_date,level,house_clean,boy,girl,name,mateup_status,
                                lover_diamond,lover_package,exp,right_grade,light_plan,
                                decoration,search_plan], [{record_name, house_data}], "create house_data_mem table"}.
{create_table, player_basic_data_mem, 
               [account,username,sex,skin_color,hair,face,beard,online_time,hair_color,
                last_login_time,house_id,mateup_status,hp,body,hp_update_time,create_time,
                first_photo_player,animal_type,birthday,star,height,salary,blood_type,
                education,contact,interest,signature,city,province,career,weight,alter_body,
                charm,produce_experience,produce_level], [{record_name, player_basic_data}], "create player_basic_mem table"}.
{change_table_copy_type, player_basic_data, disc_only_copies, "change player_basic_data copy type"}.
{change_table_copy_type, house_data, disc_only_copies, "change house_data copy type"}.
{create_table, player_task_mem, [account, give_tasks, flags, events, complete_chain_tasks], [{record_name, player_task}], "create player_task_mem table"}.
{change_table_copy_type, player_task, disc_only_copies, "change player_task copy type"}.
{create_table, farm_mem, [house_id, crops], [{record_name, farm}], "create farm_mem table"}.
{create_table, commemoration_mem, [house_id,love_time,days], [{record_name, commemoration}], "create_table commemoration_mem"}.
{create_table, flower_mem, [house_id,flower_id,grow,water,fertilizer,start_time, fruit_time,pick,output,log], 
                           [{record_name, flower}], "create_table flower_mem"}.
{change_table_copy_type, photo_player, disc_copies, "change photo_player copy type"}.

{delete_table, charm_ranking, "delete table charm_ranking"}.
{create_table, male_charm_ranking, [account, ranking], "create male_charm_ranking table"}.
{create_table, female_charm_ranking, [account, ranking], "create female_charm_ranking table"}.
{create_table, score_lottery, [account, score], [{disc_type, disc_copies}], "create score_lottery table"}.
{add_table_fields, score_lottery, [{random_info, undefined}], "add field random_info"}.
{create_table, attention_ranking, [account, ranking], "create attention_ranking table"}.
{module_fun, db_update_house20120816, run, [house_data, 30], "house_data add frags"}.
{create_table, kick_info, [pair_player, time], "create kick_info table"}.
{create_table, daily_post_reward, [id, content, require_items, reward_items, reward_diamond, reward_exp, date], "create daily_post_reward table"}.
{create_table, daily_post_reward_mem, [id, content, require_items, reward_items, reward_diamond, reward_exp, date], [{record_name, daily_post_reward}], "create daily_post_reward_mem table"}.
{create_table, daily_active_reward, [account, date, progress_list, has_reward_list], "create daily_active_reward table"}.
{add_table_fields, online_player, [{login_info, undefined}], "add field login_info"}.
{create_table, ring_task, [account, pack_task, ring_count], "create ring_task table"}.
{add_table_fields, player_breakup, [{unobtained_items, undefined}], "add field unobtained_items"}.
{create_table, house_buff, [house_id_type, create_time, buff_time], [{disc_type, disc_copies}], "create house_buff table"}.
{add_table_fields, house_buff, [{params, undefined}], "add field params to table house_buff"}.
{delete_table, house_buff, "delete table house_buff"}.
{create_table, player_buff, [accunt_type, create_time, buff_time, params], [{disc_type, disc_copies}], "create player_buff table"}.
{create_table, player_intimate, [account, intimate_list], "create player_intimate table"}.
{create_table, house_access_log, [account, access_log_list], "create house_access_log table"}.
{module_fun, db_update_task, update_task_20120925, [], "change player task"}.
{add_table_fields, ring_task, [{give_date, {stime, 2012, 01, 01, 0, 0, 0}}, {give_count, 0}], "add field give_date, give_count"}.
{create_table, yy_orderid_mapping,  [yyorderid, orderid], "yy_orderid_mapping"}.
{create_table, party_create_time,  [house_id, create_time], "crate table party_create_time"}.
{add_table_fields, party, [{decoration, 0}], "add field decoration"}.
{create_table, player_flower_shake,  [account, shake_list], "crate table player_flower_shake"}.
{create_table, first_payment_return,  [account, pay_date, return_items, return_date], "crate table first_payment_return"}.
{create_table, single_payment_return,  [account, return_items], "crate table single_payment_return"}.
{create_table, total_payment_return,  [account, total_amount, return_items], "crate total_payment_return"}.
{add_table_fields, total_payment_return, [{reward_amount, 0}], "table total_payment_return add field decoration"}.
{add_table_fields, party, [{house_tplt_id, 0}, {lover, ''}, {level, 1}], "add field decoration"}.
{module_fun, party, update_party_20121227, [], "party add fields"}.
{create_table, login_actions, [account, actions], "create login actions."}.
{add_table_fields, party, [{vote_list, []}, {score, 0}, {light_buffs, []}, {cost_items, []}], "add party fields"}.
{create_table, party_items,  [house_id, items], "create table party_items"}.
{create_table, compensation_log,  [account, level], "create compensation_log"}.
{module_fun, compensation_20130115, run, [], "compensation_20130115"}.
{create_table, party_vote,  [account, today, times], "create table party_vote"}.
{create_table, channel_basic_info, [id, name, admin, credit_level], "create  channel_basic_info"}.
{create_table, player_love_coin, [account, love_coin], "create table player_love_coin"}.
{create_table, pub_kick_info, [pub_player, time], "create pub_kick_info table"}.
{create_table, shit_player, [account, coment, datetime], "create table shit_player"}.
{create_table, player_pub_scene, [host, scene_tplt_id], "create player_pub_scene table"}.
{create_table, party_coin, [account, coin], "create party_coin table"}.
{create_table, daily_task, [account, complete_tasks], "create daily_task table"}.
{create_table, farm_max_flowerpot, [account, max_number], "create farm_max_flowerpot table"}.
{create_table, player_unlock_furniture, [account, unlock_list], "create player_unlock_furniture table"}.
{create_table, player_sprite, [account, sprites, total], "create player_sprite table"}.
{create_table, player_unlock_house, [account, unlock_list], "create player_unlock_house table"}.
{create_table, player_mind_quiz, [account, count, datetime], "create player_mind_quiz table"}.
{add_table_fields, party, [{max_point, 1200}], "add field max_point"}.
{clear_tables, [player_flower_shake], "clear table player_flower_shake"}.
{module_fun, db_update_exp, start, [], "update exp data"}.
{module_fun, db_update_single_payment_return, start, [], "update table single_payment_return"}.
{add_table_fields, player_mind_quiz, [{love_coin_count, 7}], "add field love_coin_count"}.
{add_table_fields, player_flower_shake, [{love_coin_shake_count, 0}], "add field love_coin_shake_count"}.
{create_table, player_recover_hp, [account, count, datetime], "create player_recover_hp table"}.
{create_table, farm_limit, [account, date, limit], "create farm_limit table"}.
{create_table, player_flower_love_coin_shake,  [account, count, time], "crate table player_flower_love_coin_shake"}.
{delete_table, player_sprite, "delete table player_sprite"}.
{create_table, player_sprite, [account, sprites, time, appraise], "create player_sprite table"}.
{create_table, player_waiter, [account, waiter_id], "crate table player_waiter"}.
{add_table_fields, player_waiter, [{waiter_up, []}], "add field waiter_up"}.
{create_table, player_food, [account, unlocks, upgrades, stocks, produce_area, products], "create player_food table"}.
{module_fun, db_update_exp, start, [], "update exp data 2013.7.17"}.
{delete_table, player_buff, "delete table player_buff"}.
{create_table, player_buff, [account, buffs], [{disc_type, disc_copies}], "create player_buff table"}.
{create_table, special_house, [account, unlocks], "create special_house table"}.
{module_fun, db_update_special_house, start, [], "update special house data 2013.8.05"}.
{module_fun, db_update_wish, start, [], "update wish data 2013.8.05"}.
{create_table, party_food_eat, [account, time, count], "create party_food_eat table"}.
{add_table_fields, party, [{food_ids, []}], "add field food_id"}.
{create_table, party_drink, [account, shout, shouted], "create party_drink table"}.
{delete_table, party_drink, "delete table player_drink"}.
{create_table, party_drink, [account, shout, shouted, time], "create party_drink table"}.
{create_table, player_move_house, [account, move_special_house_free_count], "create player_move_house table"}.
{module_fun, db_update_special_house, start1, [], "update special house data 2013.8.13"}.
{module_fun, db_update_move_house, start, [], "update move house data 2013.8.14"}.